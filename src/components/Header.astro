---
const { current = '/' } = Astro.props;
---
<header class="bg-white/95 backdrop-blur border-b border-accent-blush sticky top-0 z-50">
  <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16">
    <a href="/" class="text-2xl font-semibold text-primary-dark tracking-tight">Funteco</a>
    <!-- Desktop menu -->
    <ul class="hidden md:flex space-x-6 text-sm font-medium text-neutral-black">
      <li>
        <a
          href="/"
          class={`pb-1 transition-colors duration-200 ${
            current === '/' ? 'text-primary-dark border-b-2 border-accent-flamingo' : 'hover:text-primary-dark'
          }`}
        >
          Inicio
        </a>
      </li>
      <li>
        <a
          href="/about"
          class={`pb-1 transition-colors duration-200 ${
            current === '/about' ? 'text-primary-dark border-b-2 border-accent-flamingo' : 'hover:text-primary-dark'
          }`}
        >
          Nosotras
        </a>
      </li>
      <li>
        <a
          href="/que-hacemos"
          class={`pb-1 transition-colors duration-200 ${
            current === '/que-hacemos'
              ? 'text-primary-dark border-b-2 border-accent-flamingo'
              : 'hover:text-primary-dark'
          }`}
        >
          Qué hacemos
        </a>
      </li>
      <li>
        <a
          href="/eventos"
          class={`pb-1 transition-colors duration-200 ${
            current === '/eventos' ? 'text-primary-dark border-b-2 border-accent-flamingo' : 'hover:text-primary-dark'
          }`}
        >
          Eventos
        </a>
      </li>
      <li>
        <a
          href="/contacto"
          class={`pb-1 transition-colors duration-200 ${
            current === '/contacto' ? 'text-primary-dark border-b-2 border-accent-flamingo' : 'hover:text-primary-dark'
          }`}
        >
          Contacto
        </a>
      </li>
    </ul>
    <!-- Mobile menu button -->
    <button
      id="menu-toggle"
      class="md:hidden inline-flex items-center justify-center p-2 rounded-md text-primary-dark hover:bg-accent-blush focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"
      aria-expanded="false"
    >
      <span class="sr-only">Abrir menú</span>
      <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  </nav>
  <!-- Mobile menu -->
  <div id="mobile-menu" class="md:hidden hidden px-4 pb-4 bg-white/90 backdrop-blur">
    <a href="/" class={`block py-2 border-b border-accent-blush ${current === '/' ? 'text-primary-dark font-semibold' : ''}`} aria-current={current === '/' ? 'page' : undefined}>Inicio</a>
    <a href="/about" class={`block py-2 border-b border-accent-blush ${current === '/about' ? 'text-primary-dark font-semibold' : ''}`} aria-current={current === '/about' ? 'page' : undefined}>Nosotras</a>
    <a href="/que-hacemos" class={`block py-2 border-b border-accent-blush ${current === '/que-hacemos' ? 'text-primary-dark font-semibold' : ''}`} aria-current={current === '/que-hacemos' ? 'page' : undefined}>Qué hacemos</a>
    <a href="/eventos" class={`block py-2 border-b border-accent-blush ${current === '/eventos' ? 'text-primary-dark font-semibold' : ''}`} aria-current={current === '/eventos' ? 'page' : undefined}>Eventos</a>
    <a href="/contacto" class={`block py-2 ${current === '/contacto' ? 'text-primary-dark font-semibold' : ''}`} aria-current={current === '/contacto' ? 'page' : undefined}>Contacto</a>
  </div>
</header>

<!-- Script to toggle mobile menu -->
<script client:load>
  const menuToggle = document.getElementById('menu-toggle');
  const mobileMenu = document.getElementById('mobile-menu');
  menuToggle?.addEventListener('click', () => {
    const expanded = menuToggle.getAttribute('aria-expanded') === 'true';
    menuToggle.setAttribute('aria-expanded', String(!expanded));
    mobileMenu?.classList.toggle('hidden');
  });
</script>
